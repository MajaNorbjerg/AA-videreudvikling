<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>

  <select id="locations" onchange="giveSelection(this.value, sel2, options2)">
    
    <option value="All">ALL locations</option>
    <option value="Buffalo">Buffalo</option>
    <option value="Rochester">Rochester</option>
    <option value="Syracuse">Syracuse</option>
    <option value="" selected class="">Choose Location</option>
  </select>


  <select id="machine" onchange="giveSelection(this.value, sel3, options3)">
       
    <option data-always="" data-all="All" data-buffalo="Buffalo" data-rochester="Rochester" data-syracuse="Syracuse" value="AllMachines">ALL macines</option>
    <option data-always="" data-all="All" data-buffalo="Buffalo" value="HLZ151256">HLZ151256</option>
    <option data-always="" data-all="All" data-rochester="Rochester" value="HLZ151245">HLZ151245</option>
    <option data-always="" data-all="All" data-rochester="Rochester" value="HLZ151246">HLZ151246</option>
    <option data-always="" data-all="All" data-syracuse="Syracuse" value="HLZ151275">HLZ151275</option>
    <option data-always="" data-all="All" data-syracuse="Syracuse" value="HLZ151276">HLZ151276</option>
    <option selected data-all="All" data-buffalo="Buffalo" data-rochester="Rochester" data-syracuse="Syracuse" data-always=""
    class="" value="">Choose Machine</option>
   
   
  </select>

  <select id="batch" >
    <!-- onchange="giveSelection(this.value, sel3, options3)" -->

    <!-- Different options -->
    <option data-always="" data-all="All" data-buffalo="Buffalo" data-rochester="Rochester"
        data-syracuse="Syracuse" value="AllMachines">ALL batches</option>
    <option data-always="" data-all="All" data-buffalo="Buffalo" data-machine56="HLZ151256" value="2019112119351753">2019112119351753
    </option>
    <option data-always="" data-all="All" data-buffalo="Buffalo" data-machine56="HLZ151256" value="2019112119351754">2019112119351754
    </option>
    <option data-always="" data-all="All" data-rochester="Rochester" data-machine45="HLZ151245" value="2019112119351796">2019112119351796
    </option>
    <option data-always="" data-all="All" data-rochester="Rochester" data-machine46="HLZ151246" value="2019112119351740">2019112119351740
    </option>
    <option data-always="" data-all="All" data-rochester="Rochester" data-machine45="HLZ151245" value="2019112119351799">2019112119351799
    </option>
    <option data-always="" data-all="All" data-syracuse="Syracuse" data-machine75="HLZ151275" value="2019112119351712">2019112119351712
    </option>
    <option data-always="" data-all="All" data-syracuse="Syracuse" data-machine76="HLZ151276" value="2019112119351777">2019112119351777
    </option>
    <option selected data-all="All" data-buffalo="Buffalo" data-rochester="Rochester"
        data-syracuse="Syracuse" data-always="" data-machine56="HLZ151256" data-machine45="HLZ151245" data-machine46="HLZ151246" data-machine75="HLZ151275" data-machine76="HLZ151276" class="placeholder" value="">Choose
        Batch</option>    
    <!-- The rest of the values will be loaded from our script -->

</select>

  <script>
    var sel1 = document.querySelector('#locations');
    var sel2 = document.querySelector('#machine');
    var options2 = sel2.querySelectorAll('option');

    var sel3 = document.querySelector('#batch');
    var sel4 = document.querySelector('#machine');
    var options3 = sel3.querySelectorAll('option');
    

    function giveSelection(selValue, selValue2, where) {
      selValue2.innerHTML = '';
      for (var i = 0; i < where.length; i++) {
        if (where[i].dataset.all === selValue || where[i].dataset.always === selValue || where[i].dataset.buffalo === selValue || where[i].dataset.rochester === selValue || where[i].dataset.syracuse === selValue || where[i].dataset.machine56 === selValue || where[i].dataset.machine45 === selValue || where[i].dataset.machine46 === selValue || where[i].dataset.machine75 === selValue || where[i].dataset.machine76 === selValue) {
            selValue2.appendChild(where[i]);
        }
      }
    }

    giveSelection(sel1.value, sel2, options2);
    giveSelection(sel1.value, sel3, options4);
    giveSelection(sel4.value, sel3, options3);

  </script>
</body>

</html>